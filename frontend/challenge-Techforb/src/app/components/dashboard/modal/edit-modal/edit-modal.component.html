<dialog class="container">
  <div class="modal">
    <h3 class="modal__title">Editar planta</h3>
    <form class="form" [formGroup]="editFormgroup" (ngSubmit)="handleEdit()">
      <div class="flex">
        <div>
          <label class="form__label">Nombre planta</label>
          <input
            class="form__input"
            type="text"
            [value]="editData().plant"
            disabled />
        </div>
        <div>
          <label class="form__label">Pa√≠s</label>
          <input
            class="form__input"
            type="text"
            disabled
            [value]="editData().country" />
        </div>
      </div>
      <div class="flex">
        <div>
          <label class="form__label">Cantidad de lecturas</label>
          <div class="relative">
            <input
              class="form__input"
              type="text"
              placeholder="Ingrese valor"
              formControlName="readings"
              [ngClass]="{
                error:
                  editFormgroup.controls.readings.invalid &&
                  editFormgroup.controls.readings.touched,
              }" />
            @if (
              editFormgroup.controls.readings.hasError('min') &&
              editFormgroup.controls.readings.touched
            ) {
              <span class="message">Debe ser positivo</span>
            }
          </div>
        </div>
        <div>
          <label class="form__label">Sensores deshabilitados</label>
          <div class="relative">
            <input
              class="form__input"
              type="text"
              placeholder="Ingrese valor"
              formControlName="disabled"
              [ngClass]="{
                error:
                  editFormgroup.controls.disabled.invalid &&
                  editFormgroup.controls.disabled.touched,
              }" />
            @if (
              editFormgroup.controls.disabled.hasError('min') &&
              editFormgroup.controls.disabled.touched
            ) {
              <span class="message">Debe ser positivo</span>
            }
          </div>
        </div>
      </div>
      <div class="flex">
        <div>
          <label class="form__label">Alertas medias</label>
          <div class="relative">
            <input
              class="form__input"
              type="text"
              placeholder="Ingrese valor"
              formControlName="midAlerts"
              [ngClass]="{
                error:
                  editFormgroup.controls.midAlerts.invalid &&
                  editFormgroup.controls.midAlerts.touched,
              }" />
            @if (
              editFormgroup.controls.midAlerts.hasError('min') &&
              editFormgroup.controls.midAlerts.touched
            ) {
              <span class="message">Debe ser positivo</span>
            }
          </div>
        </div>
        <div>
          <label class="form__label">Alrtas rojas</label>
          <div class="relative">
            <input
              class="form__input"
              type="text"
              placeholder="Ingrese valor"
              formControlName="redAlerts"
              [ngClass]="{
                error:
                  editFormgroup.controls.redAlerts.invalid &&
                  editFormgroup.controls.redAlerts.touched,
              }" />
            @if (
              editFormgroup.controls.redAlerts.hasError('min') &&
              editFormgroup.controls.redAlerts.touched
            ) {
              <span class="message">Debe ser positivo</span>
            }
          </div>
        </div>
      </div>
      <div class="form__buttons">
        <app-button
          children="Cancelar"
          size="small"
          color="secondary"
          type="button"
          [action]="closeModal" />
        <app-button
          children="Editar"
          size="small"
          color="primary"
          [isLoading]="isLoading"
          [disabled]="editFormgroup.invalid" />
      </div>
    </form>
  </div>
</dialog>
